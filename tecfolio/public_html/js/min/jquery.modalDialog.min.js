!function(n){n.fn.basicSetting=function(){function t(){0!=o.val()&&o.val()?(a.removeClass("inactive").removeAttr("disabled"),i=2):(a.addClass("inactive").attr("disabled","disabled"),s.addClass("inactive"),i=1),0!=a.val()&&a.val()?(s.removeClass("inactive"),i=3):(s.addClass("inactive"),i=2)}var i,e=n("#basicSettingDialog"),o=e.find("#basic-doctype"),a=e.find("#basic-place"),f=e.find("#basic-date"),s=e.find("#item3Set"),l=s.find("table"),c=n("#basicReceiver");l.find("a:not(.collision),a:not(.inactive)").each(function(){n(this).click(function(){var t=n(this).data("date");f.val(t),fullFill="true",c.find(".fromSelector").each(function(){var t=n(this).data("source"),i=n("#"+t).find("option:selected").text(),e=n("#"+t).val();n(this).html(i),n(this).next("input:hidden").val(e)}),c.find(".fromInput").each(function(){var t=n(this).data("source"),i=n("#"+t).val();n(this).html(i),n(this).next("input:hidden").val(i)}),n("#pageControl .finish, .formSet, .freetext").removeClass("inactive"),n("article .calendarSet").each(function(){var t=n(this).find(".view");t.datepicker({showOn:"button",buttonText:"▼ 選んでください",beforeShow:function(n,t){var i=t.dpDiv;setTimeout(function(){i.position({my:"right top",at:"right bottom",collision:"none",of:".ui-datepicker-trigger"})},1)}})}),e.bPopup().close()})}),this.bind("click",function(n){n.preventDefault(),e.bPopup({closeClass:"closeButton",modalColor:"#3f3f3f",opacity:.9,zIndex:110,onOpen:function(){t(),o.bind("mouseup change",function(){t()}),a.bind("mouseup change",function(){t()})},onClose:function(){}})})},n.fn.decisionDialog=function(t,i,e){var o=!1;e?"nocomp"==e&&(o=!0):e==n("#compDialog"),this.bind("click",function(a){a.preventDefault(),t.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}}),i&&t.find(".selected").each(function(){var t=n(this),i=n(t.data("get"));i.is("input")?t.text(n(i).val()):t.text(n(i).text())}),t.find(".affirm").click(function(i){o?location.href=n(this).attr(href):(t.hide(),i.preventDefault(),e.bPopup({escClose:!1,modalClose:!1,modalColor:"#eeeeee",opacity:.4,transitionClose:"fadeIn",zIndex:115}))})})},n.fn.shiftDialog=function(t,i,e,o,a){var f=this,s=f.find("td");s.each(function(){var f=n(this),s=n(this).data("shift");f.bind("click",function(n){if(n.preventDefault(),f.hasClass("attached")&&f.hasClass("terminal"))e.find(".shiftData").text(s),e.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}});else if(f.hasClass("attached")&&!f.hasClass("terminal"))o.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}});else if(f.hasClass("restricted"))i.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}});else if(f.hasClass("limit"))a.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}});else{if(f.hasClass("inactive"))return!1;t.find(".shiftData").text(s),t.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}})}})})},n.fn.addReserveDialog=function(n){this.bind("click",function(t){t.preventDefault(),n.bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:110,onClose:function(){}}),n.find(".affirm").click(function(){n.hide()})})}}(jQuery),$(function(){$("#contactAdmin").click(function(n){n.preventDefault(),$("#contactDialog").bPopup({closeClass:"cancel",modalColor:"#ffffff",opacity:.5,transitionClose:"fadeIn",zIndex:120})})});